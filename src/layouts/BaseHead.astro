---
// src/components/BaseHead.astro
export interface Props {
  title?: string;
  description?: string;
  keywords?: string;
  image?: string;
  type?: 'website' | 'article' | 'product';
  canonicalURL?: string;
  noindex?: boolean;
  publishDate?: string;
  updateDate?: string;
  author?: string;
  category?: string;
  tags?: string[];
}

const {
  title = "Salt Life Detail - Marine Detailing Products & Guides | Estero, FL",
  description = "Expert marine detailing product reviews, guides, and local services in Southwest Florida. Keep your boat pristine with trusted recommendations from fellow boaters.",
  keywords = "marine detailing, boat cleaning, gelcoat care, marine wax, boat maintenance, Estero Florida, Southwest Florida boating, jetski cleaning",
  image = "/images/salt-life-detail-og.jpg",
  type = "website",
  canonicalURL,
  noindex = false,
  publishDate,
  updateDate,
  author = "Salt Life Detail Team",
  category,
  tags = []
} = Astro.props;

const currentURL = canonicalURL || Astro.url.href;
const siteName = "Salt Life Detail";
const fullTitle = title.includes(siteName) ? title : `${title} | ${siteName}`;
const fullImageUrl = new URL(image, Astro.site).toString();
---

<!-- Basic Meta Tags -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>{fullTitle}</title>
<meta name="description" content={description} />
<meta name="keywords" content={keywords} />
<meta name="author" content={author} />

<!-- Canonical URL -->
<link rel="canonical" href={currentURL} />

<!-- Robots -->
{noindex ? (
  <meta name="robots" content="noindex, nofollow" />
) : (
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
)}

<!-- Open Graph / Facebook -->
<meta property="og:type" content={type} />
<meta property="og:url" content={currentURL} />
<meta property="og:title" content={fullTitle} />
<meta property="og:description" content={description} />
<meta property="og:image" content={fullImageUrl} />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:site_name" content={siteName} />
<meta property="og:locale" content="en_US" />

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:url" content={currentURL} />
<meta name="twitter:title" content={fullTitle} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={fullImageUrl} />
<meta name="twitter:site" content="@SaltLifeDetail" />
<meta name="twitter:creator" content="@SaltLifeDetail" />

<!-- Article-specific meta -->
{publishDate && (
  <meta property="article:published_time" content={publishDate} />
)}
{updateDate && (
  <meta property="article:modified_time" content={updateDate} />
)}
{author && (
  <meta property="article:author" content={author} />
)}
{category && (
  <meta property="article:section" content={category} />
)}
{tags.map((tag) => (
  <meta property="article:tag" content={tag} />
))}

<!-- Local Business Specific -->
<meta name="geo.region" content="US-FL" />
<meta name="geo.placename" content="Estero, Florida" />
<meta name="geo.position" content="26.4384;-81.8067" />
<meta name="ICBM" content="26.4384, -81.8067" />

<!-- Marine Industry Specific -->
<meta name="industry" content="Marine Detailing" />
<meta name="coverage" content="Southwest Florida" />
<meta name="target" content="boat owners, jetski owners, marine enthusiasts" />

<!-- Favicon & App Icons -->
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
<link rel="manifest" href="/site.webmanifest" />
<meta name="theme-color" content="#111827" />

<!-- Preconnect to external domains for performance -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="preconnect" href="https://www.google-analytics.com" />

<!-- DNS Prefetch for affiliate partners -->
<link rel="dns-prefetch" href="//starkeyachtcare.com" />
<link rel="dns-prefetch" href="//amazon.com" />

<!-- Critical fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />

<!-- JSON-LD Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "Salt Life Detail",
  "description": "Marine detailing product reviews and guides for Southwest Florida boat owners",
  "url": "",
  "logo": "/images/logo.png",
  "image": "/images/salt-life-detail-og.jpg",
  "telephone": "+1-239-XXX-XXXX",
  "email": "hello@saltlifedetail.com",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "123 Marina Way",
    "addressLocality": "Estero",
    "addressRegion": "FL",
    "postalCode": "33928",
    "addressCountry": "US"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": 26.4384,
    "longitude": -81.8067
  },
  "areaServed": [
    {
      "@type": "City",
      "name": "Estero",
      "sameAs": "https://en.wikipedia.org/wiki/Estero,_Florida"
    },
    {
      "@type": "City", 
      "name": "Fort Myers",
      "sameAs": "https://en.wikipedia.org/wiki/Fort_Myers,_Florida"
    },
    {
      "@type": "City",
      "name": "Naples", 
      "sameAs": "https://en.wikipedia.org/wiki/Naples,_Florida"
    },
    {
      "@type": "City",
      "name": "Bonita Springs",
      "sameAs": "https://en.wikipedia.org/wiki/Bonita_Springs,_Florida"
    }
  ],
  "serviceType": "Marine Detailing Information and Product Reviews",
  "priceRange": "Free",
  "sameAs": [
    "https://facebook.com/saltlifedetail",
    "https://instagram.com/saltlifedetail", 
    "https://youtube.com/@saltlifedetail",
    "https://twitter.com/saltlifedetail"
  ],
  "knowsAbout": [
    "Marine Detailing",
    "Boat Cleaning",
    "Gelcoat Care", 
    "Marine Wax",
    "Boat Maintenance",
    "Jetski Cleaning",
    "Marine Products"
  ],
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Marine Detailing Information",
    "itemListElement": [
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Product Reviews",
          "description": "Comprehensive reviews of marine detailing products"
        }
      },
      {
        "@type": "Offer", 
        "itemOffered": {
          "@type": "Service",
          "name": "How-To Guides",
          "description": "Step-by-step boat maintenance and detailing tutorials"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service", 
          "name": "Local Service Directory",
          "description": "Trusted marine detailing services in Southwest Florida"
        }
      }
    ]
  }
}
</script>

<!-- Website Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Salt Life Detail",
  "url": "",
  "description": "Expert marine detailing product reviews, guides, and local services in Southwest Florida",
  "publisher": {
    "@type": "Organization",
    "name": "Salt Life Detail",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/logo.png",
      "width": 400,
      "height": 400
    }
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "/search?q={search_term_string}"
    },
    "query-input": "required name=search_term_string"
  },
  "mainEntity": {
    "@type": "Organization",
    "@id": "/#organization"
  }
}
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5PEZRNZ0LQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5PEZRNZ0LQ');
</script>